%script{:type=>"application/x-javascript",:src=>"/jquery-ui-1.8.6.custom.min.js"}
%script{:type=>"application/x-javascript",:src=>"/application"}
%link{:rel=>"stylesheet", :type=>"text/css", :href=>"jquery-ui-1.8.6.custom.css"}

%div{:id=>"dialog", :title=>"Confirmation Required"}
  Are you sure you want to delete this graph?



.span-7.colborder
  %h6#view_view
    VIEW
  %h6
    %ul#hide_view
      -@all_forms.each  do |x|
        %li
          %a{:href=>"/view/#{x}"}=x 
.span-8
  %h6#view_edit 
    EDIT
  %ul#hide_edit
    -@all_forms.each  do |x|
      %li
        %a{:href=>"/edit_text/#{x}"}=x
.span-8.last
  %h6#view_delete 
    DELETE
  %ul#hide_delete
    -@all_forms.each  do |x|
      %li
        %a.confirmLink{:href=>"/delete/#{x}"}=x
.span-24
.span-7
  %h6
    %form{:action=>"/edit_text",:method=>"get"}
      NEW ALG: 
      %input{:type=>"text",:name=>"form_name",:cols=>"30"} 
      %input{:type=>"submit",:value=>"Send"}


%script{:type=>"text/coffeescript"}
  

:javascript 

  $(document).ready(function(){

    $("#dialog").dialog({
         autoOpen: false,
         modal: true
       });

  $("#view_view").click(function(){
    $("#hide_view").toggle();
  });

  $("#hide_edit").hide();
  $("#view_edit").click(function(){
    $("#hide_edit").toggle();
  });

  $("#hide_delete").hide();
  $("#view_delete").click(function(){
    $("#hide_delete").toggle();
  });


  $(".confirmLink").click(function(e) {
     e.preventDefault();
     var targetUrl = $(this).attr("href");

     $("#dialog").dialog({
       buttons : {
         "Confirm" : function() {
           window.location.href = targetUrl;
         },
         "Cancel" : function() {
           $(this).dialog("close");
         }
       }
     });

     $("#dialog").dialog("open");
   });
  }); 


